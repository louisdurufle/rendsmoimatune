<?xml version="1.0" encoding="UTF-8"?>
<doctrine-mapping xmlns="http://doctrine-project.org/schemas/orm/doctrine-mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://doctrine-project.org/schemas/orm/doctrine-mapping http://doctrine-project.org/schemas/orm/doctrine-mapping.xsd">

    <entity name="Eu\Rmmt\Api\OAuthConsumer" table="api_oauth_consumer">
        <id name="_id" type="integer" column="api_oauth_consumer_pk">
            <generator strategy="AUTO" />
        </id>

        <field name="_email"                    column="email"                      type="string" />
        <field name="_name"                     column="name"                       type="string" />
        <field name="_url"                      column="url"                        type="string" />
        <field name="_registrationToken"        column="registration_token"         type="string" />
        <field name="_key"                      column="key"                        type="string" />
        <field name="_secret"                   column="secret"                     type="string" />

        <one-to-many target-entity="OAuthToken" mapped-by="_consumer" field="_tokens">
            <cascade>
                <cascade-persist />
            </cascade>
        </one-to-many>
    </entity>
</doctrine-mapping>
